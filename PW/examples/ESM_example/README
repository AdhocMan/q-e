This example shows how to use the Effective Screening Medium Method (ESM)
and constant bias potential (constant-mu) method to calculate the total
energy, charge density, force, and potential of a polarized or charged
slab (which can also be molecules and clusters)

ESM screens the electronic charge of a polarized/charged medium along one
perpendicular direction by introducing a classical charge model and a local
relative permittivity into the first-principles calculation framework.
ESM also permits calculations using open boundary conditions (OBC).
The method is described in detail in M. Otani and O. Sugino,
"First-principles calculations of charged surfaces and interfaces:
A plane-wave nonrepeated slab approach," PRB 73, 115407 (2006).

In addition to 'pbc' (ordinary periodic boundary conditions with ESM
disabled), the code allows three different sets of boundary conditions
perpendicular to the polarized slab:

1) 'bc1': Immerse the slab between two semi-infinite vacuum regions;
2) 'bc2': Immerse the slab between two semi-infinite metallic electrodes,
          with an optional fixed field applied between them.
          Constant-mu method is available for controlling the Fermi energy.
3) 'bc3': Immerse the slab between one semi-infinite vacuum region (left-hand
          side) and one semi-infinite metallic electrode (right-hand side).
          Constant-mu method is available for controlling the Fermi energy.

Two dimensional (xy-plane) average charge density and electrostatic
potentials are printed out into the 'esm1' file.

run_example executes the following calculation:
1) Example for ESM calculations (run_example_ESM)

The 'run_example' file executes the above calculation.

1) Example for ESM calculations (run_example_ESM)
1-1) make a self-consistent calculation for H2O with esm_bc = 'pbc' (ESM off)
     (input=H2O_pbc.in, output=H2O_pbc.out). Using 'pbc' causes the
     code to print out the density and potential (hartree + local) along z,
     even though ESM is disabled. Note that the molecule has a z-oriented
     dipole.
1-2) make a self-consistent calculation for H2O with esm_bc = 'bc1'
     (input=H2O_bc1.in, output=H2O_bc1.out). This simulates the water
     molecule in an infinite vacuum along the z-direction, preventing
     dipole-dipole interaction between periodic images.
1-3) make a self-consistent calculation for Al(001) with esm_bc = 'pbc'
     (input=Al001_pbc.in, output=Al001_pbc.out).
1-4) make a self-consistent calculation for Al(001) with esm_bc = 'bc1'
     (input=Al001_bc1.in, output=Al001_bc1.out).
1-5) make a self-consistent calculation for Al(001) with esm_bc = 'bc2',
     without an applied field (input=Al001_bc2.in, output=Al001_bc2.out).
     This simulates the slab sandwiched between two uncharged semi-infinite
     metal electrodes.
1-6) make a self-consistent calculation for Al(001) with esm_bc = 'bc2',
     this time with an applied field (input=Al001_bc2_efield.in,
     output=Al001_bc2_efield.out). The slab polarizes in response.
1-7) make a self-consistent calculation for Al(001) with esm_bc = 'bc3' to
     simulate a slab in contact with semi-infinite  metal electrode (right-
     hand side).
     (input=Al001_bc3.in, output=Al001_bc3.out).
1-8) make a self-consistent calculation for Al(001) with esm_bc = 'bc3' to
     simulate a slab in contact with semi-infinite metal electrode with
     a weakly negative (-0.02e) overall charge (input=Al001_bc3_m002.in,
     output=Al001_bc3_m002.out). Note that the charge migrates to the right
     surface of the slab.
1-9) Repeat #1-8 but with a weakly positive (+0.02e) overall charge
     (input=Al001_bc3_p002.in, output=Al001_bc3_p002.out).
